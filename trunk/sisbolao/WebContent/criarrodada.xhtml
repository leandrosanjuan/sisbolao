<!DOCTYPE html >
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.prime.com.tr/ui">

<h:head>
	<title></title>
	<meta name="keywords" content="" />
	<meta name="description" content="" />
	<link href="recursos/estilo.css" rel="stylesheet" type="text/css"
		media="screen" />
</h:head>

<h:body>
	<ui:composition template="template/common.xhtml">
		<ui:define name="content">
			<div class="post"><h:form id="form">

				<p:fieldset legend="#{msg.criarRodada}">
					<h:outputLabel for="campeonatos" value="#{msg.campeonato}" />
					<p:selectOneMenu id="campeonatos" value="#{rodadaMB.campeonato}"
						converter="campeonatoConverter">
						<f:selectItem itemLabel="#{msg.selecioneCampeonato}" itemValue="" />
						<f:selectItems value="#{campeonatoMB.campeonatosSI}" />
						<p:ajax listener="#{rodadaMB.filtrarRodadas}" event="change"
							update="rodadas" />
					</p:selectOneMenu>

					<h:outputLabel for="rodadas" value="#{msg.rodada}" />
					<p:selectOneMenu id="rodadas" value="#{rodadaMB.rodada}">
						<f:selectItem itemLabel="#{msg.selecioneRodada}" itemValue="" />
						<f:selectItems value="#{rodadaMB.rodadas}" />
					</p:selectOneMenu>

					<p:spacer />

					<p:panel header="#{msg.criarPartida}">

						<h:panelGrid columns="5" id="grid">
							<h:outputLabel value="#{msg.timeCasa}" for="sl_casa"></h:outputLabel>
							<p:selectOneMenu id="sl_casa" value="#{rodadaMB.timeCasa}"
								required="true" converter="timeConverter">
								<f:selectItem itemLabel="#{msg.selecioneTime}" itemValue="" />
								<f:selectItems value="#{rodadaMB.times}" var="timeCasa"
									itemLabel="#{timeCasa.nome}" itemValue="#{timeCasa}" />
							</p:selectOneMenu>

							<h:outputText value="  X  " />

							<h:outputLabel value="#{msg.timeVisitante}" for="sl_visitante"></h:outputLabel>
							<p:selectOneMenu id="sl_visitante"
								value="#{rodadaMB.timeVisitante}" required="true"
								converter="timeConverter">
								<f:selectItem itemLabel="#{msg.selecioneTime}" itemValue="" />
								<f:selectItems value="#{rodadaMB.times}" var="timeVisitante"
									itemLabel="#{timeVisitante.nome}" itemValue="#{timeVisitante}" />
							</p:selectOneMenu>

							<p:commandButton value="#{msg.limpar}" type="reset" />
							<p:commandButton value="#{msg.criarPartida}"
								update="books msgs @parent" action="#{rodadaMB.criarRodada}">
								<p:collector value="#{rodadaMB.partida}"
									addTo="#{rodadaMB.partidas}" />
							</p:commandButton>
						</h:panelGrid>
					</p:panel>

					<br />

					<p:outputPanel id="partidas">
						<p:dataTable value="#{rodadaMB.partidas}" var="partida">

							<p:column>
								<f:facet name="header">
									<h:outputText value="#{msg.timeCasa}" />
								</f:facet>
								<h:outputText value="#{timeCasa.nome}}" />
							</p:column>

							<p:column>
								<f:facet name="header">
									<h:outputText value="#{msg.timeVisitante}" />
								</f:facet>
								<h:outputText value="#{timeVisitante.nome}" />
							</p:column>

							<p:column>
								<f:facet name="header">
									<h:outputText value="#{msg.opcoes}" />
								</f:facet>
								<p:commandLink value="#{msg.remover}" update="form:partidas"
									process="@this">
									<p:collector value="#{partida}"
										removeFrom="#{rodadaMB.partidas}" />
								</p:commandLink>
							</p:column>

						</p:dataTable>
					</p:outputPanel>
				</p:fieldset>
			</h:form></div>

		</ui:define>


	</ui:composition>
</h:body>
</html>